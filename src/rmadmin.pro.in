CONFIG += c++1z warn_on
CONFIG += object_parallel_to_source # As same filenames appear in different directories

# So that dessserc generated C++ does compile:
QMAKE_MACOSX_DEPLOYMENT_TARGET = 10.15

TEMPLATE = app
TARGET = RmAdmin
VERSION = @PACKAGE_VERSION@
QT += core network widgets charts printsupport testlib

# For Windows:
RC_ICONS = rmadmin.ico
# For MacOS:
ICON = rmadmin.icns

INCLUDEPATH += .
INCLUDEPATH += /usr/local/include
INCLUDEPATH += @DESSSER_INC@

DEFINES += QT_DEPRECATED_WARNINGS

HEADERS_DESSSERC_GEN = \
  desssergen/team_name.h \
  desssergen/field_name.h \
  desssergen/function_name.h \
  desssergen/program_name.h \
  desssergen/fq_name.h \
  desssergen/site_name.h \
  desssergen/file_path.h \
  desssergen/src_path.h \
  desssergen/fieldmask.h \
  desssergen/fq_function_name.h \
  desssergen/event_time_field.h \
  desssergen/event_time.h \
  desssergen/raql_type.h \
  desssergen/raql_value.h \
  desssergen/func_ref.h \
  desssergen/worker.h \
  desssergen/units.h \
  desssergen/global_variable.h \
  desssergen/field_type.h \
  desssergen/program_run_parameter.h \
  desssergen/program_parameter.h \
  desssergen/rc_entry.h \
  desssergen/raql_variable.h \
  desssergen/raql_path_comp.h \
  desssergen/raql_top_output.h \
  desssergen/raql_binding_key.h \
  desssergen/raql_expr.h \
  desssergen/raql_net_protocol.h \
  desssergen/raql_select_field.h \
  desssergen/raql_flush_method.h \
  desssergen/raql_operation.h \
  desssergen/retention.h \
  desssergen/source_info.h \
  desssergen/simple_filter.h \
  desssergen/alert.h \
  desssergen/runtime_stats.h \
  desssergen/time_range.h \
  desssergen/replay.h \
  desssergen/replay_request.h \
  desssergen/replayer.h \
  desssergen/output_specs.h \
  desssergen/dashboard_widget.h \
  desssergen/alerting_contact.h \
  desssergen/alerting_notification.h \
  desssergen/alerting_delivery_status.h \
  desssergen/alerting_log.h \
  desssergen/alerting_inhibition.h \
  desssergen/sync_user_id.h \
  desssergen/sync_selector.h \
  desssergen/sync_socket.h \
  desssergen/sync_value.h \
  desssergen/sync_key.h \
  desssergen/sync_client_cmd.h \
  desssergen/sync_client_msg.h \
  desssergen/sync_server_msg.h \
  desssergen/sync_msg.h \

SOURCES_DESSSERC_GEN = \
  desssergen/team_name.cc \
  desssergen/field_name.cc \
  desssergen/function_name.cc \
  desssergen/program_name.cc \
  desssergen/fq_name.cc \
  desssergen/site_name.cc \
  desssergen/file_path.cc \
  desssergen/src_path.cc \
  desssergen/fieldmask.cc \
  desssergen/fq_function_name.cc \
  desssergen/event_time_field.cc \
  desssergen/event_time.cc \
  desssergen/raql_type.cc \
  desssergen/raql_value.cc \
  desssergen/func_ref.cc \
  desssergen/worker.cc \
  desssergen/units.cc \
  desssergen/global_variable.cc \
  desssergen/field_type.cc \
  desssergen/program_run_parameter.cc \
  desssergen/program_parameter.cc \
  desssergen/rc_entry.cc \
  desssergen/raql_variable.cc \
  desssergen/raql_path_comp.cc \
  desssergen/raql_top_output.cc \
  desssergen/raql_binding_key.cc \
  desssergen/raql_expr.cc \
  desssergen/raql_net_protocol.cc \
  desssergen/raql_select_field.cc \
  desssergen/raql_flush_method.cc \
  desssergen/raql_operation.cc \
  desssergen/retention.cc \
  desssergen/source_info.cc \
  desssergen/simple_filter.cc \
  desssergen/alert.cc \
  desssergen/runtime_stats.cc \
  desssergen/time_range.cc \
  desssergen/replay.cc \
  desssergen/replay_request.cc \
  desssergen/replayer.cc \
  desssergen/output_specs.cc \
  desssergen/dashboard_widget.cc \
  desssergen/alerting_contact.cc \
  desssergen/alerting_notification.cc \
  desssergen/alerting_delivery_status.cc \
  desssergen/alerting_log.cc \
  desssergen/alerting_inhibition.cc \
  desssergen/sync_user_id.cc \
  desssergen/sync_selector.cc \
  desssergen/sync_socket.cc \
  desssergen/sync_value.cc \
  desssergen/sync_key.cc \
  desssergen/sync_client_cmd.cc \
  desssergen/sync_client_msg.cc \
  desssergen/sync_server_msg.cc \
  desssergen/sync_msg.cc \

# Input
HEADERS += \
  $$HEADERS_DESSSERC_GEN \
  misc.h \
  misc_dessser.h \
  z85.h \
  UserIdentity.h \
  rec_shared_mutex.h \
  SyncStatus.h \
  KValue.h \
  ConfChange.h \
  KVStore.h \
  ConfClient.h \
  KErrorMsg.h \
  SavedWindow.h \
  Resources.h \
  AboutDialog.h \
  Logger.h \
  LogModel.h \
  LoggerView.h \
  LoggerWin.h \
  LoginWidget.h \
  LoginWin.h \
  ServerInfoWidget.h \
  ServerInfoWin.h \
  ConfSubTree.h \
  ConfTreeModel.h \
  NamesTree.h \
  NamesTreeWin.h \
  GraphModel.h \
  stream/GraphViewSettings.h \
  GraphItem.h \
  stream/GraphArrow.h \
  EventTime.h \
  AtomicWidget.h \
  MakeSyncValue.h \
  RangeDoubleValidator.h \
  KFloatEditor.h \
  KShortLabel.h \
  RangeIntValidator.h \
  PathNameValidator.h \
  KArrEditor.h \
  KIntEditor.h \
  KCharEditor.h \
  KLabel.h \
  KLineEdit.h \
  KIpEditor.h \
  KCidrEditor.h \
  KTupEditor.h \
  KRecEditor.h \
  KVecEditor.h \
  KVoidEditor.h \
  RamenSyntaxHighlighter.h \
  KTextEdit.h \
  KChoice.h \
  KBoolEditor.h \
  KNullableEditor.h \
  WorkerViewer.h \
  TimeRange.h \
  TimeRangeViewer.h \
  TimeRangeEdit.h \
  timeline/AbstractTimeLine.h \
  timeline/TimeLine.h \
  timeline/TimeLineGroup.h \
  timeline/TimeLineView.h \
  timeline/HeatLine.h \
  timeline/BinaryHeatLine.h \
  source/SourceInfoViewer.h \
  PathSuffixValidator.h \
  AtomicForm.h \
  target_config/TargetConfigEntryEditor.h \
  target_config/TargetConfigEditor.h \
  target_config/TargetConfigEditorWin.h \
  target_config/NewTargetConfigEntryDialog.h \
  RuntimeStatsViewer.h \
  EditorWidget.h \
  raw/RawConfEditorDialog.h \
  raw/ConfTreeItem.h \
  raw/ConfTreeWidget.h \
  raw/RawConfWin.h \
  ButtonDelegate.h \
  TreeComboBox.h \
  Automaton.h \
  FixedTableView.h \
  colorOfString.h \
  ColorDelegate.h \
  IconSelector.h \
  RollButtonDelegate.h \
  FunctionSelector.h \
  GrowingTextEdit.h \
  PopupListView.h \
  chart/Ticks.h \
  chart/FactorsEditor.h \
  chart/FactorsDelegate.h \
  chart/TimeChartAutomatonCustomize.h \
  chart/TimeChartAxisEditor.h \
  chart/TimeChartOptionsEditor.h \
  chart/TimeChartFunctionFieldsModel.h \
  chart/TimeChartFunctionEditor.h \
  chart/TimeChartFunctionsEditor.h \
  chart/TimeChartEditWidget.h \
  chart/TimeChartEditor.h \
  chart/TimeChart.h \
  dashboard/tools.h \
  dashboard/DashboardCopyDialog.h \
  dashboard/DashboardTreeModel.h \
  dashboard/DashboardSelector.h \
  dashboard/DashboardWidgetChart.h \
  dashboard/DashboardWidgetText.h \
  dashboard/DashboardWidgetForm.h \
  dashboard/DashboardWidget.h \
  dashboard/Dashboard.h \
  dashboard/NewDashboardDialog.h \
  dashboard/DashboardWindow.h \
  TailModel.h \
  TailTable.h \
  TailTableDialog.h \
  processes/ProcessesWidget.h \
  processes/ProcessesWidgetProxy.h \
  processes/ProcessesDialog.h \
  source/FilterEditor.h \
  source/AlertInfoEditor.h \
  source/SourceCloneDialog.h \
  source/CodeEditForm.h \
  source/CodeEdit.h \
  source/NewSourceDialog.h \
  source/SourcesModel.h \
  source/SourcesView.h \
  source/SourcesWin.h \
  storage/StorageTimeline.h \
  storage/StorageSlice.h \
  storage/StoragePies.h \
  storage/StorageTreeModel.h \
  storage/StorageTreeView.h \
  storage/StorageForm.h \
  storage/StorageInfoBox.h \
  storage/StorageInfo.h \
  storage/StorageView.h \
  storage/StorageWin.h \
  alerting/tools.h \
  alerting/AlertingJournal.h \
  alerting/AlertingLogsModel.h \
  alerting/AlertingStats.h \
  alerting/NotifTimeLine.h \
  alerting/AlertingTimeLine.h \
  alerting/AlertingWin.h \
  stream/OperationsView.h \
  stream/OperationsWin.h \
  Menu.h \
  ReplayRequest.h \
  PastData.h \
  FunctionItem.h \
  ProgramItem.h \
  ProgramPartItem.h \
  SiteItem.h \
  stream/layout.h \
  stream/GraphView.h

SOURCES += \
  $$SOURCES_DESSSERC_GEN \
  misc.cpp \
  misc_dessser.cpp \
  z85.cpp \
  UserIdentity.cpp \
  rec_shared_mutex.cpp \
  SyncStatus.cpp \
  KValue.cpp \
  KVStore.cpp \
  ConfClientTools.cpp \
  ConfClient.cpp \
  KErrorMsg.cpp \
  SavedWindow.cpp \
  Resources.cpp \
  AboutDialog.cpp \
  Logger.cpp \
  LogModel.cpp \
  LoggerView.cpp \
  LoggerWin.cpp \
  LoginWidget.cpp \
  LoginWin.cpp \
  ServerInfoWidget.cpp \
  ServerInfoWin.cpp \
  ConfSubTree.cpp \
  ConfTreeModel.cpp \
  NamesTree.cpp \
  NamesTreeWin.cpp \
  GraphModel.cpp \
  stream/GraphViewSettings.cpp \
  GraphItem.cpp \
  stream/GraphArrow.cpp \
  EventTime.cpp \
  AtomicWidget.cpp \
  MakeSyncValue.cpp \
  RangeDoubleValidator.cpp \
  KFloatEditor.cpp \
  KShortLabel.cpp \
  RangeIntValidator.cpp \
  PathNameValidator.cpp \
  KArrEditor.cpp \
  KIntEditor.cpp \
  KCharEditor.cpp \
  KLabel.cpp \
  KLineEdit.cpp \
  KIpEditor.cpp \
  KCidrEditor.cpp \
  KTupEditor.cpp \
  KRecEditor.cpp \
  KVecEditor.cpp \
  KVoidEditor.cpp \
  RamenSyntaxHighlighter.cpp \
  KTextEdit.cpp \
  KChoice.cpp \
  KBoolEditor.cpp \
  KNullableEditor.cpp \
  WorkerViewer.cpp \
  TimeRange.cpp \
  TimeRangeViewer.cpp \
  TimeRangeEdit.cpp \
  timeline/AbstractTimeLine.cpp \
  timeline/TimeLine.cpp \
  timeline/TimeLineGroup.cpp \
  timeline/TimeLineView.cpp \
  timeline/HeatLine.cpp \
  timeline/BinaryHeatLine.cpp \
  source/SourceInfoViewer.cpp \
  PathSuffixValidator.cpp \
  AtomicForm.cpp \
  target_config/TargetConfigEntryEditor.cpp \
  target_config/TargetConfigEditor.cpp \
  target_config/TargetConfigEditorWin.cpp \
  target_config/NewTargetConfigEntryDialog.cpp \
  RuntimeStatsViewer.cpp \
  EditorWidget.cpp \
  raw/RawConfEditorDialog.cpp \
  raw/ConfTreeItem.cpp \
  raw/ConfTreeWidget.cpp \
  raw/RawConfWin.cpp \
  ButtonDelegate.cpp \
  TreeComboBox.cpp \
  Automaton.cpp \
  FixedTableView.cpp \
  colorOfString.cpp \
  ColorDelegate.cpp \
  IconSelector.cpp \
  RollButtonDelegate.cpp \
  FunctionSelector.cpp \
  GrowingTextEdit.cpp \
  PopupListView.cpp \
  chart/Ticks.cpp \
  chart/FactorsEditor.cpp \
  chart/FactorsDelegate.cpp \
  chart/TimeChartAutomatonCustomize.cpp \
  chart/TimeChartAxisEditor.cpp \
  chart/TimeChartOptionsEditor.cpp \
  chart/TimeChartFunctionFieldsModel.cpp \
  chart/TimeChartFunctionEditor.cpp \
  chart/TimeChartFunctionsEditor.cpp \
  chart/TimeChartEditWidget.cpp \
  chart/TimeChartEditor.cpp \
  chart/TimeChart.cpp \
  dashboard/tools.cpp \
  dashboard/DashboardCopyDialog.cpp \
  dashboard/DashboardTreeModel.cpp \
  dashboard/DashboardSelector.cpp \
  dashboard/DashboardWidgetChart.cpp \
  dashboard/DashboardWidgetText.cpp \
  dashboard/DashboardWidgetForm.cpp \
  dashboard/DashboardWidget.cpp \
  dashboard/Dashboard.cpp \
  dashboard/NewDashboardDialog.cpp \
  dashboard/DashboardWindow.cpp \
  TailModel.cpp \
  TailTable.cpp \
  TailTableDialog.cpp \
  processes/ProcessesWidget.cpp \
  processes/ProcessesWidgetProxy.cpp \
  processes/ProcessesDialog.cpp \
  source/FilterEditor.cpp \
  source/AlertInfoEditor.cpp \
  source/SourceCloneDialog.cpp \
  source/CodeEditForm.cpp \
  source/CodeEdit.cpp \
  source/NewSourceDialog.cpp \
  source/SourcesModel.cpp \
  source/SourcesView.cpp \
  source/SourcesWin.cpp \
  storage/StorageTimeline.cpp \
  storage/StorageSlice.cpp \
  storage/StoragePies.cpp \
  storage/StorageTreeModel.cpp \
  storage/StorageTreeView.cpp \
  storage/StorageForm.cpp \
  storage/StorageInfoBox.cpp \
  storage/StorageInfo.cpp \
  storage/StorageView.cpp \
  storage/StorageWin.cpp \
  alerting/tools.cpp \
  alerting/AlertingJournal.cpp \
  alerting/AlertingLogsModel.cpp \
  alerting/AlertingStats.cpp \
  alerting/NotifTimeLine.cpp \
  alerting/AlertingTimeLine.cpp \
  alerting/AlertingWin.cpp \
  stream/OperationsView.cpp \
  stream/OperationsWin.cpp \
  Menu.cpp \
  ReplayRequest.cpp \
  PastData.cpp \
  FunctionItem.cpp \
  ProgramItem.cpp \
  ProgramPartItem.cpp \
  SiteItem.cpp \
  stream/layout.cpp \
  stream/GraphView.cpp \
  main.cpp

RESOURCES = resources.qrc

# For some reasons the compiler qmake selected might not look into the same
# locations than the compiler used by autoconf to locate libs:
LIBS += -L/usr/local/lib
LIBS += -lsodium
