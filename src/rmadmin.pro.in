CONFIG += c++1z warn_on
CONFIG += object_parallel_to_source # As same filenames appear in different directories

# So that dessserc generated C++ does compile:
QMAKE_MACOSX_DEPLOYMENT_TARGET = 10.14

TEMPLATE = app
TARGET = RmAdmin
VERSION = @PACKAGE_VERSION@
QT += core network widgets charts printsupport

# For Windows:
RC_ICONS = rmadmin.ico
# For MacOS:
ICON = rmadmin.icns

INCLUDEPATH += .
INCLUDEPATH += /usr/local/include
INCLUDEPATH += @DESSSER_INC@

DEFINES += QT_DEPRECATED_WARNINGS

# Input
HEADERS += \
  desssergen/team_name.h \
  desssergen/field_name.h \
  desssergen/function_name.h \
  desssergen/program_name.h \
  desssergen/fq_name.h \
  desssergen/site_name.h \
  desssergen/file_path.h \
  desssergen/src_path.h \
  desssergen/fieldmask.h \
  desssergen/fq_function_name.h \
  desssergen/event_time_field.h \
  desssergen/event_time.h \
  desssergen/raql_type.h \
  desssergen/raql_value.h \
  desssergen/func_ref.h \
  desssergen/worker.h \
  desssergen/units.h \
  desssergen/global_variable.h \
  desssergen/field_type.h \
  desssergen/program_run_parameter.h \
  desssergen/program_parameter.h \
  desssergen/rc_entry.h \
  desssergen/raql_variable.h \
  desssergen/raql_path_comp.h \
  desssergen/raql_top_output.h \
  desssergen/raql_binding_key.h \
  desssergen/raql_expr.h \
  desssergen/raql_net_protocol.h \
  desssergen/raql_select_field.h \
  desssergen/raql_flush_method.h \
  desssergen/raql_operation.h \
  desssergen/retention.h \
  desssergen/source_info.h \
  desssergen/simple_filter.h \
  desssergen/alert.h \
  desssergen/runtime_stats.h \
  desssergen/time_range.h \
  desssergen/replay.h \
  desssergen/replay_request.h \
  desssergen/replayer.h \
  desssergen/output_specs.h \
  desssergen/dashboard_widget.h \
  desssergen/alerting_contact.h \
  desssergen/alerting_notification.h \
  desssergen/alerting_delivery_status.h \
  desssergen/alerting_log.h \
  desssergen/alerting_inhibition.h \
  desssergen/sync_user_id.h \
  desssergen/sync_selector.h \
  desssergen/sync_socket.h \
  desssergen/sync_value.h \
  desssergen/sync_key.h \
  desssergen/sync_client_cmd.h \
  desssergen/sync_client_msg.h \
  desssergen/sync_server_msg.h \
  desssergen/sync_msg.h \
  misc.h \
  misc_dessser.h \
  z85.h \
  UserIdentity.h \
  rec_shared_mutex.h \
  SyncStatus.h \
  KValue.h \
  ConfChange.h \
  KVStore.h \
  ConfClient.h \
  KErrorMsg.h \
  SavedWindow.h \
  Resources.h \
  AboutDialog.h \
  Logger.h \
  LogModel.h \
  LoggerView.h \
  LoggerWin.h \
  LoginWidget.h \
  LoginWin.h \
  ServerInfoWidget.h \
  ServerInfoWin.h \
  ConfSubTree.h \
  ConfTreeModel.h \
  NamesTree.h \
  NamesTreeWin.h \
  GraphModel.h \
  GraphViewSettings.h \
  GraphItem.h \
  GraphArrow.h \
  EventTime.h \
  AtomicWidget.h \
  MakeSyncValue.h \
  RangeDoubleValidator.h \
  KFloatEditor.h \
  KShortLabel.h \
  RangeIntValidator.h \
  KVoidEditor.h \
  KIntEditor.h \
  KCharEditor.h \
  KLabel.h \
  KLineEdit.h \
  KIpEditor.h \
  KCidrEditor.h \
  KTupEditor.h \
  KVecEditor.h \
  RamenSyntaxHighlighter.h \
  KTextEdit.h \
  KChoice.h \
  KBoolEditor.h \
  WorkerViewer.h \
  TimeRangeViewer.h \
  SourceInfoViewer.h \
  SourcesModel.h \
  PathSuffixValidator.h \
  RCEntryEditor.h \
  TargetConfigEditor.h \
  AtomicForm.h \
  RCEditorDialog.h \
  EditorWidget.h \
  ConfTreeItem.h \
  ConfTreeEditorDialog.h \
  ConfTreeWidget.h \
  ConfTreeDialog.h \
  Menu.h \
  TailModel.h \
  ReplayRequest.h \
  PastData.h \
  FunctionItem.h \
  ProgramItem.h \
  SiteItem.h \
  layout.h \
  GraphView.h \
  colorOfString.h

SOURCES += \
  desssergen/team_name.cc \
  desssergen/field_name.cc \
  desssergen/function_name.cc \
  desssergen/program_name.cc \
  desssergen/fq_name.cc \
  desssergen/site_name.cc \
  desssergen/file_path.cc \
  desssergen/src_path.cc \
  desssergen/fieldmask.cc \
  desssergen/fq_function_name.cc \
  desssergen/event_time_field.cc \
  desssergen/event_time.cc \
  desssergen/raql_type.cc \
  desssergen/raql_value.cc \
  desssergen/func_ref.cc \
  desssergen/worker.cc \
  desssergen/units.cc \
  desssergen/global_variable.cc \
  desssergen/field_type.cc \
  desssergen/program_run_parameter.cc \
  desssergen/program_parameter.cc \
  desssergen/rc_entry.cc \
  desssergen/raql_variable.cc \
  desssergen/raql_path_comp.cc \
  desssergen/raql_top_output.cc \
  desssergen/raql_binding_key.cc \
  desssergen/raql_expr.cc \
  desssergen/raql_net_protocol.cc \
  desssergen/raql_select_field.cc \
  desssergen/raql_flush_method.cc \
  desssergen/raql_operation.cc \
  desssergen/retention.cc \
  desssergen/source_info.cc \
  desssergen/simple_filter.cc \
  desssergen/alert.cc \
  desssergen/runtime_stats.cc \
  desssergen/time_range.cc \
  desssergen/replay.cc \
  desssergen/replay_request.cc \
  desssergen/replayer.cc \
  desssergen/output_specs.cc \
  desssergen/dashboard_widget.cc \
  desssergen/alerting_contact.cc \
  desssergen/alerting_notification.cc \
  desssergen/alerting_delivery_status.cc \
  desssergen/alerting_log.cc \
  desssergen/alerting_inhibition.cc \
  desssergen/sync_user_id.cc \
  desssergen/sync_selector.cc \
  desssergen/sync_socket.cc \
  desssergen/sync_value.cc \
  desssergen/sync_key.cc \
  desssergen/sync_client_cmd.cc \
  desssergen/sync_client_msg.cc \
  desssergen/sync_server_msg.cc \
  desssergen/sync_msg.cc \
  misc.cpp \
  misc_dessser.cpp \
  z85.cpp \
  UserIdentity.cpp \
  rec_shared_mutex.cpp \
  SyncStatus.cpp \
  KValue.cpp \
  KVStore.cpp \
  ConfClient.cpp \
  KErrorMsg.cpp \
  SavedWindow.cpp \
  Resources.cpp \
  AboutDialog.cpp \
  Logger.cpp \
  LogModel.cpp \
  LoggerView.cpp \
  LoggerWin.cpp \
  LoginWidget.cpp \
  LoginWin.cpp \
  ServerInfoWidget.cpp \
  ServerInfoWin.cpp \
  ConfSubTree.cpp \
  ConfTreeModel.cpp \
  NamesTree.cpp \
  NamesTreeWin.cpp \
  GraphModel.cpp \
  GraphViewSettings.cpp \
  GraphItem.cpp \
  GraphArrow.cpp \
  EventTime.cpp \
  AtomicWidget.cpp \
  MakeSyncValue.cpp \
  RangeDoubleValidator.cpp \
  KFloatEditor.cpp \
  KShortLabel.cpp \
  RangeIntValidator.cpp \
  KVoidEditor.cpp \
  KIntEditor.cpp \
  KCharEditor.cpp \
  KLabel.cpp \
  KLineEdit.cpp \
  KIpEditor.cpp \
  KCidrEditor.cpp \
  KTupEditor.cpp \
  KVecEditor.cpp \
  RamenSyntaxHighlighter.cpp \
  KTextEdit.cpp \
  KChoice.cpp \
  KBoolEditor.cpp \
  WorkerViewer.cpp \
  TimeRangeViewer.cpp \
  SourceInfoViewer.cpp \
  SourcesModel.cpp \
  PathSuffixValidator.cpp \
  RCEntryEditor.cpp \
  TargetConfigEditor.cpp \
  AtomicForm.cpp \
  RCEditorDialog.cpp \
  EditorWidget.cpp \
  ConfTreeItem.cpp \
  ConfTreeEditorDialog.cpp \
  ConfTreeWidget.cpp \
  ConfTreeDialog.cpp \
  Menu.cpp \
  TailModel.cpp \
  ReplayRequest.cpp \
  PastData.cpp \
  FunctionItem.cpp \
  ProgramItem.cpp \
  SiteItem.cpp \
  layout.cpp \
  GraphView.cpp \
  colorOfString.cpp \
  main.cpp

RESOURCES = resources.qrc

# For some reasons the compiler qmake selected might not look into the same
# locations than the compiler used by autoconf to locate libs:
LIBS += -L/usr/local/lib
LIBS += -lsodium
